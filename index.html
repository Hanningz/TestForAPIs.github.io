<html lang="zxx" class="js">

<head>
    <base href="../../">
    <meta charset="utf-8">
    <meta name="author" content="Softnio">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="@@page-discription">
    <!-- Fav Icon  -->
   
    <!-- Page Title  -->
    <title>te</title>
    <!-- StyleSheets  -->
    <link rel="stylesheet" href="./assets/css/dashlite.css?ver=1.4.0">
    <link id="skin-default" rel="stylesheet" href="./assets/css/theme.css?ver=1.4.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>


	<style>

		html, body {
			height: 100%;
			margin: 0;
		}

		#map {
			width: 70%;
			height: 80%;
		}

    input[type=checkbox] {
      transform: scale(1.5);
    }

    .custom .leaflet-popup-tip,
    .custom .leaflet-popup-content-wrapper {
        background-color: #7c7676;
    }




	</style>

</head>

<body>

<div id="map"></div>

<script type="text/javascript">
 //alert("w");

   var url3 ="https://raw.githubusercontent.com/Hanningz/practices-for-Visualization-/master/data.json";
   $.get(url3,function(data){
  
   alert(JSON.stringify(data));
   
}); 




</script>
  
<script type="text/javascript">

 //alert(s);


  const jsontest = {"type": "FeatureCollection",
"features": [

{
 "type": "Feature",
 "geometry": {
    "type": "Point",
    "coordinates":  [22.17041015625,
          60.42097096224303]
 },
 "properties": {
 "Name":"SensorDeviceA01",
 "year":"1890",
 "time":"September",
 "eventType":"10",
 "notes":"desc of events"
 }
},

{
"type": "Feature",
"properties": {"Name":"SensorDeviceB12",
 "year":"1890",
 "time":"September",

 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.20302581787109,
  60.43029059808365
]
}
},
{
"type": "Feature",
"properties": {"Name":"SensorDeviceC01",
 "year":"1890",
 "time":"September",

 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.176246643066406,
  60.424317866142296
]
}
},

{
"type": "Feature",
"properties": { "Name":"CameraSensorA",
 "year":"1890",
 "time":"September",

 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.190065383911133,
  60.42567347602639
]
}
},
{
"type": "Feature",
"properties": { "Name":"CameraSensorATest",
 "year":"1890",
 "time":"September",

 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.192039489746094,
  60.42541930347811
]
}
},
{
"type": "Feature",
"properties": { "Name":"CameraSensorB",
 "year":"1890",
 "time":"September",

 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.165346145629883,
  60.41906434399841
]
}
},
{
"type": "Feature",
"properties": { "Name":"CameraSensorATest",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.18560218811035,
  60.423089295866475
]
}
},
{
"type": "Feature",
"properties": { "Name":"CameraSensorATest",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.187576293945312,
  60.423131661131464
]
}
},
{
"type": "Feature",
"properties": { "Name":"CameraSensorA03",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.18817710876465,
  60.428469242924386
]
}
},
{
"type": "Feature",
"properties": { "Name":"CameraSensorB02",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.190494537353516,
  60.42901989594342
]
}
},
{
"type": "Feature",
"properties": { "Name":"CameraSensorATest",
 "year":"1893",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"20",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.19212532043457,
  60.429951749036036
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorA07",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"20",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.17641830444336,
  60.41728473278787
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorA11",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"20",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.194185256958008,
  60.42330112163948
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorTest",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"30",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.197790145874023,
  60.425758199767614
]
}
},
{
"type": "Feature",
"properties": { "Name":"TRadarSensorTest",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"20",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.20233917236328,
  60.434907064472334
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorTest",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"30",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.20499992370605,
  60.43452591318082
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorTest",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"attacked",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.20834732055664,
  60.43621988470891
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorTest",
 "year":"1893",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"20",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.2198486328125,
  60.43554230669233
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorTest",
 "year":"1893",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.22053527832031,
  60.43372124577595
]
}
},
{
"type": "Feature",
"properties": { "Name":"RadarSensorTest",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.223453521728516,
  60.43685510127025
]
}
},
{
"type": "Feature",
"properties": { "Name":"SensorDevice07",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"attacked",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.214269638061523,
  60.431264769421716
]
}
},
{
"type": "Feature",
"properties": { "Name":"SensorDevice09",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.208261489868164,
  60.43075650975716
]
}
},
{
"type": "Feature",
"properties": { "Name":"SensorDevice06",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.185430526733395,
  60.42694430896449
]
}
},
{
"type": "Feature",
"properties": { "Name":"SensorDevice17",
 "year":"1890",
 "time":"September",
 "days":"",
 "organiser":"desc of events",
 "eventType":"10",
 "notes":"desc of events"},
"geometry": {
"type": "Point",
"coordinates": [
  22.195730209350586,
  60.431857728986664
]
}
},


{
 "type": "Feature",
 "geometry": {
    "type": "Point",
    "coordinates":  [22.19701766967773,
          60.42889282299763]
 },
 "properties": {
 "Name":"SensorDevice08",
 "year":"1893",
 "time":"September",
 "days":"21",
 "eventType":"10",
 "notes":"desc of events"
 }
}
]};

      var map = L.map("map", {

          center: [60.4336, 22.1930],//22.2177, 60.438  60.4216, 22.1982
          zoom: 14.49
              //center: [60.4349, 22.1892],
              //zoom: 14.19
      });
        
      var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
          'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        mbUrl = 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

      L.tileLayer(mbUrl, {id: 'mapbox/light-v9', tileSize: 512, zoomOffset: -1, attribution: mbAttr}).addTo(map)

      
      //L.geoJSON(jsontest).addTo(map);    
    
      var healthy = {
            radius: 12,
            fillColor: "#00A300",
            weight: 0,
            opacity: 0,
            fillOpacity: 0.6
        };

      var risks = {
            radius: 22,
            fillColor: "#ff7800",
            weight: 0,
            opacity: 0,
            fillOpacity: 0.6
        };

      var attackedOnes = {
            radius: 18,
            fillColor: "#FF8A8A",
           
            weight: 0,
            opacity: 0,
            fillOpacity: 0.6
        };

      L.geoJSON(jsontest, {
            pointToLayer: function (feature, latlng) {
              if (feature.properties.eventType == "10") {
                return L.circleMarker(latlng, healthy);
          } else if (feature.properties.eventType == "20")
              {
                  return L.circleMarker(latlng, risks);
              } else if (feature.properties.eventType == "30")
                {
                  return L.circleMarker(latlng, attackedOnes);
                }
        },
        onEachFeature: onEachFeature
        }).addTo(map);      

      
      function onEachFeature(feature, layer) {

          var popupContent;

          var customOptions =
            {
                'maxWidth': '300',
                'className' : 'custom'
            }

          switch (feature.properties.eventType) {
            case "10":  //healthy ones
              popupContent = "I am a <br><img src='http://joshuafrazier.info/images/maptime.gif' alt='maptime logo gif' width='350px'/>";
              break;
            case "20": //risky ones 
              popupContent = "I am a";
              break;
            case "30": //under atatck ones
              popupContent = "helpse!!!!!!!!!!!!";
              break;
          }

          layer.bindPopup(popupContent,customOptions);
      }


   </script>

</body>
</html>
